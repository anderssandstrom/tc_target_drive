record(bo,"$(P)${DEV_NAME}-EnaCmd"){
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(OUT,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_CMD}.bEnable=")
  field(SCAN, "Passive")
  field(ZNAM, "Zero")
  field(ONAM, "One")
  field(DESC, "${DEV_NAME}: Drive Enable Cmd")
}

record(bi,"$(P)${DEV_NAME}-EnaCmd-RB"){
  field(PINI, "1")  
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_CMD}.bEnable?")
  field(SCAN, "I/O Intr")
  field(ZNAM, "Zero")
  field(ONAM, "One")
  field(DESC, "${DEV_NAME}: Drive Enable Cmd RB")
}

record(bi,"$(P)${DEV_NAME}-EnaAct"){
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.bEnabled?")
  field(SCAN, "I/O Intr")
  field(ZNAM, "Zero")
  field(ONAM, "One")
  field(DESC, "${DEV_NAME}: Drive Enabled")
}

record(ai,"$(P)${DEV_NAME}-PosAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)TIMEBASE=PLC/T_DLY_MS=500/TS_MS=10/ADSPORT=852/Main.${STRUCT_STAT}.fActPos?")
  field(PREC, "3")
  field(SCAN, "I/O Intr")
  field(DESC, "${DEV_NAME}: Motor Position [deg]")
}

record(ai,"$(P)${DEV_NAME}-VelAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/T_DLY_MS=500/TS_MS=100/Main.${STRUCT_STAT}.fActVel?")
  field(SCAN, "I/O Intr")
  field(LINR, "SLOPE")
  field(ESLO, "0.1")
  field(EOFF, "0")   
  field(DESC, "${DEV_NAME}: Act Velocity [rpm]")
}

record(ai,"$(P)${DEV_NAME}-TorqueAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.fActTorque?")
  field(PREC, "3")
  field(SCAN, "I/O Intr")
  field(DESC, "${DEV_NAME}: Act Torque [%]")
}

record(ai,"$(P)${DEV_NAME}-TempAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.fActTemp?")
  field(PREC, "2")
  field(SCAN, "I/O Intr")
  field(DESC, "${DEV_NAME}: Motor Temp [degC]")
}

record(ai,"$(P)${DEV_NAME}-PhaseErrorMMAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/T_DLY_MS=500/TS_MS=10/Main.fbModePhase.fPhaseErrorMM?")
  field(PREC, "3")
  field(SCAN, "I/O Intr")
  field(DESC, "${DEV_NAME}: Act Phase Error [mm]")
}

record(ai,"$(P)${DEV_NAME}-MissedTimingPulses"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.fbModePhase.nMissedTimingPulses?")
  field(PREC, "3")
  field(SCAN, "I/O Intr")
  field(DESC, "${DEV_NAME}: Missed Timing pulses [mm]")
}

record(ai,"$(P)Rotation-MissedTimingPulsesLow"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.fbModePhase.nMissedTimingPulsesLow?")
  field(PREC, "3")
  field(SCAN, "I/O Intr")
  field(DESC, "Rotation: Missed Timing pulses low[mm]")
}

record(mbbo,"$(P)${DEV_NAME}-StateCmd"){
  info(asyn:READBACK,"1")
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(OUT,  "@asyn($(PORT),$(ADDR=0),$(TIMEOUT=1))ADSPORT=852/Main.${STRUCT_CMD}.eTargetStateCmd?")
  field(SCAN, "Passive")
  field(DESC, "${DEV_NAME}: Main State Cmd")
#  field(ZRVL, "0")
#  field(ZRST, "NONE")
#  field(ONVL, "1")
#  field(ONST, "NOT_USED")
  field(TWVL, "2")
  field(TWST, "CONSTANT_VELOCITY")
  field(THVL, "3")
  field(THST, "POSITION")
  field(FRVL, "4")
  field(FRST, "PHASE")
  field(FVVL, "5")
  field(FVST, "HOME")
  field(SXVL, "6")
  field(SXST, "TORQUE")
}

record(mbbi,"$(P)${DEV_NAME}-StateAct"){  
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT),$(ADDR=0),$(TIMEOUT=1))ADSPORT=852/Main.${STRUCT_STAT}.eTargetState?")
  field(SCAN, "I/O Intr")
  field(DESC, "${DEV_NAME}: Main State Status")
#  field(ONVL, "1")
#  field(ONST, "NOT_USED")
  field(TWVL, "2")
  field(TWST, "CONSTANT_VELOCITY")
  field(THVL, "3")
  field(THST, "POSITION")
  field(FRVL, "4")
  field(FRST, "PHASE")
  field(FVVL, "5")
  field(FVST, "HOME")
  field(SXVL, "6")
  field(SXST, "TORQUE")
}

record(bo,"$(P)${DEV_NAME}-ExeCmd"){
  info(asyn:READBACK,"1")
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(OUT,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_CMD}.bExecute?")
  field(SCAN, "Passive")
  field(ZNAM, "Not Executing")
  field(ONAM, "Executeing")
  field(DESC, "${DEV_NAME}: Execute Cmd")
}

record(bo,"$(P)${DEV_NAME}-RstCmd"){
  info(asyn:READBACK,"1")
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(OUT,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_CMD}.bReset?")
  field(SCAN, "Passive")
  field(ZNAM, "Not Reseting")
  field(ONAM, "Reseting")
  field(DESC, "${DEV_NAME}: Reset Cmd")
}

record(ao,"$(P)${DEV_NAME}-MaxMotorTempCmd"){
  info(asyn:READBACK,"1")
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(OUT,  "@asyn($(PORT),0,1)ADSPORT=852/GVL_Parameters.nMaxMotorTemperature?")
  field(PREC, "1")
  field(SCAN, "I/O Intr")
  field(DESC, "${DEV_NAME}: Max Motor Temp Cmd")
}

record(ao,"$(P)${DEV_NAME}-PhaseOffetMMCmd"){
  info(asyn:READBACK,"1")
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(OUT,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_CMD}.fPhaseOffsetMM?")
  field(PREC, "3")
  field(SCAN, "Passive")
  field(DESC, "${DEV_NAME}: Offset of phase in [mm]")
}

record(ai,"$(P)${DEV_NAME}-PhaseOffetDegAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.fPhaseOffsetActDeg?")
  field(PREC, "3")
  field(SCAN, "1 second")
  field(DESC, "${DEV_NAME}: Offset of phase in [deg]")
}

record(ai,"$(P)${DEV_NAME}-LatchedPosAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.fbModePhase.fLatchedPosition?")
  field(PREC, "0")
  field(SCAN, "I/O Intr")
  field(DESC, "${DEV_NAME}: Last Latched Position")
}

record(bi,"$(P)${DEV_NAME}-PhasingAct"){
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.fbModePhase.bPhasing?")  
  field(SCAN, "I/O Intr")
  field(DESC, "${DEV_NAME}: Phasing")
}

record(ai,"$(P)${DEV_NAME}-ClosestSectorIDAct"){
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.fbModePhase.nClosestSectorId?")
  field(PREC, "0")
  field(SCAN, "I/O Intr")
  field(DESC, "${DEV_NAME}: Closest Sector ID")
}

record(ai,"$(P)${DEV_NAME}-ChoosenSectorAct"){
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.fbModePhase.nChoosenSector?")
  field(PREC, "0")
  field(SCAN, "I/O Intr")
  field(DESC, "${DEV_NAME}: Choosen Sector ID")
}

#record(ai,"$(P)${DEV_NAME}-CntrlCmd"){
#  field(PINI, "1")
#  field(DTYP, "asynFloat64")
#  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.fbModePhase.fCtrlOutput?")
#  field(PREC, "3")
#  field(SCAN, "I/O Intr")
#  field(DESC, "${DEV_NAME}: Phase PID Controller output")
#}

record(ai,"$(P)${DEV_NAME}-VelStableCountAct"){
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.fbModePhase.iRangeOkCounter?")
  field(PREC, "0")
  field(SCAN, "I/O Intr")
  field(DESC, "${DEV_NAME}: Velocity Stable Counter")
}

record(bi,"$(P)${DEV_NAME}-VelStableAct"){
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.fbModePhase.bVeloStable?")  
  field(SCAN, "I/O Intr")
  field(DESC, "${DEV_NAME}: Velocity Stable")
  field(ZNAM, "Unstable")
  field(ONAM, "Stable")
}

record(ai,"$(P)${DEV_NAME}-VelRawCmd-RB"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.fSetVelRaw?")
  field(PREC, "0")
  field(SCAN, "I/O Intr")
  field(DESC, "${DEV_NAME}: Vel Set to Drive")
}

record(ai,"$(P)${DEV_NAME}-VelLastSectorAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.fbModePhase.fLastSectorVelocity?")
  field(PREC, "0")
  field(SCAN, "I/O Intr")
  field(DESC, "${DEV_NAME}: Act Vel for Last Sector")
}

record(waveform,"$(P)${DEV_NAME}-ErrStr"){
  field(PINI, "1")
  field(TSE, -2)
  field(DTYP,"asynInt8ArrayIn")
  field(INP,"@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.sErrorStr?")
  field(NELM,128)
  field(SCAN,"I/O Intr")
  field(FTVL,"CHAR")
  field(DESC, "Error description")
}

record(ai,"$(P)${DEV_NAME}-ErrId"){
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.nErrorId?")
  field(PREC, "0")
  field(SCAN, "I/O Intr")
  field(DESC, "Error Id")
}

record(bi,"$(P)${DEV_NAME}-Err"){
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.bError?")
  field(SCAN, "I/O Intr")
  field(DESC, "Error")
}

record(ai,"$(P)${DEV_NAME}-Temp_1HzAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.fActTemp?")
  field(PREC, "2")
  field(SCAN, "1 second")
  field(DESC, "${DEV_NAME}: Motor Temp [degC]")
}

record(ai,"$(P)${DEV_NAME}-Torque_1HzAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.fActTorque?")
  field(PREC, "3")
  field(SCAN, "1 second")
  field(DESC, "${DEV_NAME}: Act Torque [%]")
}

record(ai,"$(P)${DEV_NAME}-PhaseErrorMM_1HzAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.fbModePhase.fPhaseErrorMM?")
  field(PREC, "3")
  field(SCAN, "1 second")
  field(DESC, "${DEV_NAME}: Act Phase Error [mm]")
}

record(ai,"$(P)${DEV_NAME}-Vel_1HzAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.fActVel?")
  field(SCAN, "1 second")
  field(LINR, "SLOPE")
  field(ESLO, "0.1")
  field(EOFF, "0")   
  field(DESC, "${DEV_NAME}: Act Velocity [rpm]")
}

record(ai,"$(P)${DEV_NAME}-VelSetCmd_1HzAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.fSetVelRaw?")
  field(PREC, "0")
  field(SCAN, "1 second")
  field(DESC, "${DEV_NAME}: Vel Set to Drive")
}

record(ao,"$(P)${DEV_NAME}-VelSetCmd"){
  info(asyn:READBACK,"1")
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(OUT,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_CMD}.fVelSet?")
  field(PREC, "3")
  field(DRVL, "-28")
  field(DRVH, "28")
  field(SCAN, "Passive")
  field(DESC, "${DEV_NAME}: Velocity setpoint [RPM]")
}

record(ao,"$(P)${DEV_NAME}-PosCmd"){
  info(asyn:READBACK,"1")
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(OUT,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_CMD}.fPosSet?")
  field(PREC, "3")
  field(SCAN, "Passive")
  field(DESC, "${DEV_NAME}: Position setpoint [deg]")
}

record(ai,"$(P)${DEV_NAME}-Temp_1HzAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.fActTemp?")
  field(PREC, "2")
  field(SCAN, "1 second")
  field(DESC, "${DEV_NAME}: Motor Temp [degC]")
}

record(ai,"$(P)${DEV_NAME}-PhaseErrorMM_1HzAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.fbModePhase.fPhaseErrorMM?")
  field(PREC, "3")
  field(SCAN, "1 second")
  field(DESC, "${DEV_NAME}: Act Phase Error [mm]")
}

record(ai,"$(P)${DEV_NAME}-Vel_1HzAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.fActVel?")
  field(SCAN, "1 second")
  field(LINR, "SLOPE")
  field(ESLO, "0.1")
  field(EOFF, "0")   
  field(DESC, "${DEV_NAME}: Act Velocity [rpm]")
}

record(ai,"$(P)${DEV_NAME}-Torque_1HzAct"){
  field(PINI, "1")
  field(DTYP, "asynFloat64")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.fActTorque?")
  field(PREC, "3")
  field(SCAN, "1 second")
  field(DESC, "${DEV_NAME}: Act Torque [%]")
}

record(mbbo,"$(P)${DEV_NAME}-StatePhaseCtrlTypeCmd"){
  info(asyn:READBACK,"1")
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(OUT,  "@asyn($(PORT),$(ADDR=0),$(TIMEOUT=1))ADSPORT=852/Main.${STRUCT_CMD}.ePhaseCntrlAlg?")
  field(SCAN, "Passive")
  field(DESC, "${DEV_NAME}: Main Phase control algorithm")
#  field(ZRVL, "0")
#  field(ZRST, "NONE")
  field(ONVL, "1")
  field(ONST, "PID")
  field(TWVL, "2")
  field(TWST, "SUPERIMPOSE")
  field(THVL, "3")
  field(THST, "ONLY_MEASURE")
}

record(mbbo,"$(P)${DEV_NAME}-StatePhasePWMTypeCmd"){
  info(asyn:READBACK,"1")
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(OUT,  "@asyn($(PORT),$(ADDR=0),$(TIMEOUT=1))ADSPORT=852/Main.${STRUCT_CMD}.ePhasePwmType?")
  field(SCAN, "Passive")
  field(DESC, "${DEV_NAME}: Main Phase PWM Type")
  field(ZRVL, "0")
  field(ZRST, "NONE")
  field(ONVL, "1")
  field(ONST, "OPTIMIZED")
  field(TWVL, "2")
  field(TWST, "SIMPLE")
}

record(bi,"$(P)${DEV_NAME}-ManualILOverride"){
  field(PINI, "1")  
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.bmanualInterlockOverride?")
  field(SCAN, "I/O Intr")
  field(ZNAM, "OK")
  field(ONAM, "Override")
  field(ZSV, "NO_ALARM")
  field(OSV, "MAJOR")
  field(DESC, "${DEV_NAME}: manual override status")
}

record(bi,"$(P)${DEV_NAME}-HwOK"){
  field(PINI, "1")  
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.bHwStatusOK?")
  field(SCAN, "I/O Intr")
  field(ZNAM, "HW Error")
  field(ONAM, "OK")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(DESC, "${DEV_NAME}: Hardware Interlock")
}

record(bi,"$(P)${DEV_NAME}-GeneralILOK"){
  field(PINI, "1")  
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.bGeneralILOk?")
  field(SCAN, "I/O Intr")
  field(ZNAM, "Not OK")
  field(ONAM, "OK")
  field(DESC, "${DEV_NAME}: General IL OK")
}

record(bi,"$(P)${DEV_NAME}-SumILOK"){
  field(PINI, "1")  
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.bSumILOK?")
  field(SCAN, "I/O Intr")
  field(ZNAM, "Not Ok")
  field(ONAM, "OK")
  field(DESC, "${DEV_NAME}: Summary Interlock OK")
}

record(bo,"$(P)${DEV_NAME}-AllowMotionCmd"){
  info(asyn:READBACK,"1")
  field(PINI, "1")
  field(DTYP, "asynInt32")
  field(OUT,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_CMD}.bAllowMotionGUI?")
  field(SCAN, "Passive")
  field(ZNAM, "OK")
  field(ONAM, "Override")
  field(DESC, "${DEV_NAME}: Allow motion GUI cmd")
}

record(bi,"$(P)${DEV_NAME}-EstopOK"){
  field(PINI, "1")  
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT),0,1)ADSPORT=852/Main.${STRUCT_STAT}.bEstopOK?")
  field(SCAN, "I/O Intr")
  field(ZNAM, "E-STOP")
  field(ONAM, "OK")
  field(OSV,  "NO_ALARM")
  field(ZSV,  "MAJOR")
  field(DESC, "${DEV_NAME}: Estop OK")
}
